# DIAP Token 初始分配方案

## 总供应量
- **最大供应量**: 10亿 DIAP (1,000,000,000)
- **初始供应量**: 1亿 DIAP (100,000,000)

## 初始分配 (1亿 DIAP)

```
├─ 社区: 40% = 4000万 DIAP
├─ 国库: 22% = 2200万 DIAP
├─ 开发者: 15% = 1500万 DIAP
├─ 投资人: 15% = 1500万 DIAP
└─ 质押奖励池: 8% = 800万 DIAP
────────────────────────────────
总计: 100% = 1亿 DIAP ✅
```

## 分配详情

### 1. 社区 (40% - 4000万 DIAP)
- **用途**: 社区激励、空投、生态建设
- **管理**: 初始分配给部署者，后续可转移到社区多签钱包
- **释放**: 根据社区治理决策逐步释放

### 2. 国库 (22% - 2200万 DIAP)
- **用途**: 协议发展、合作伙伴、市场营销
- **管理**: 由 DAO 治理控制
- **释放**: 通过提案投票决定使用

### 3. 开发者 (15% - 1500万 DIAP)
- **用途**: 核心团队激励、开发奖励
- **管理**: 初始分配给部署者，后续可转移到团队多签钱包
- **释放**: 建议设置锁定期和线性释放机制

### 4. 投资人 (15% - 1500万 DIAP)
- **用途**: 早期投资者回报
- **管理**: 初始分配给部署者，后续可转移到投资者地址
- **释放**: 建议设置锁定期和线性释放机制

### 5. 质押奖励池 (8% - 800万 DIAP)
- **用途**: 质押奖励分发
- **管理**: 直接分配到合约地址 (address(this))
- **释放**: 根据质押规则自动分发给质押用户

## 质押奖励机制

质押奖励池的 800万 DIAP 将用于支持质押奖励系统：

### 质押层级
- **青铜级**: 1,000+ DIAP, 1x 奖励, 30天锁定
- **白银级**: 10,000+ DIAP, 1.5x 奖励, 90天锁定
- **黄金级**: 50,000+ DIAP, 2x 奖励, 180天锁定
- **铂金级**: 100,000+ DIAP, 3x 奖励, 365天锁定

### 动态奖励率
- **基础年化**: 5% APY
- **调整范围**: 1% - 10% APY
- **调整机制**: 根据合约余额自动调整

### 混合奖励系统
1. **优先使用奖励池**: 从 800万 DIAP 奖励池支付
2. **动态调整**: 当奖励池不足时，自动降低奖励率
3. **可持续性**: 确保长期稳定运行

## 通缩机制

### 自动燃烧
- **燃烧率**: 0.25% (每笔转账)
- **燃烧地址**: 0x000000000000000000000000000000000000dEaD
- **可调整**: 管理员可调整燃烧率 (最高1%)

### 手动燃烧
- 用户可主动燃烧代币
- 支持指定燃烧原因

## 代币经济学

### 供应增长
- **初始**: 1亿 DIAP (10%)
- **最大**: 10亿 DIAP (100%)
- **增长**: 通过质押奖励和生态激励逐步释放

### 通缩平衡
- **燃烧**: 每笔转账 0.25% 自动燃烧
- **奖励**: 质押奖励从预留池支付
- **平衡**: 燃烧率与奖励率动态平衡

## 部署后操作

### 1. 转移社区份额
```javascript
// 转移 4000万 DIAP 到社区多签钱包
await diapToken.transfer(communityMultisig, ethers.utils.parseEther("40000000"));
```

### 2. 转移国库份额
```javascript
// 转移 2200万 DIAP 到国库地址
await diapToken.transfer(treasuryAddress, ethers.utils.parseEther("22000000"));
```

### 3. 转移开发者份额
```javascript
// 转移 1500万 DIAP 到团队多签钱包
await diapToken.transfer(teamMultisig, ethers.utils.parseEther("15000000"));
```

### 4. 转移投资人份额
```javascript
// 转移 1500万 DIAP 到投资者地址
await diapToken.transfer(investorAddress, ethers.utils.parseEther("15000000"));
```

### 5. 验证奖励池
```javascript
// 验证合约地址有 800万 DIAP
const balance = await diapToken.balanceOf(diapToken.address);
console.log("奖励池余额:", ethers.utils.formatEther(balance), "DIAP");
```

## 安全考虑

1. **多签钱包**: 建议使用 Gnosis Safe 等多签钱包管理大额代币
2. **时间锁**: 重要参数调整需要 2 天时间锁
3. **紧急暂停**: 支持紧急暂停和紧急提取功能
4. **可升级**: 使用 UUPS 代理模式，支持合约升级

## 审计建议

在主网部署前，建议进行以下审计：
1. 代币分配逻辑审计
2. 质押奖励机制审计
3. 通缩机制审计
4. 权限控制审计
5. 可升级性审计

---

**更新时间**: 2024-10-31
**合约版本**: v1.0.0
