# Tenderly ç›‘æ§é…ç½®æŒ‡å—

## ä»€ä¹ˆæ˜¯ Tenderlyï¼Ÿ

Tenderly æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ™ºèƒ½åˆçº¦ç›‘æ§å’Œè°ƒè¯•å¹³å°ï¼Œå…è´¹ç‰ˆå·²ç»è¶³å¤Ÿä¸ªäººå¼€å‘è€…ä½¿ç”¨ã€‚

### ä¸»è¦åŠŸèƒ½
- ğŸ“Š å®æ—¶ç›‘æ§åˆçº¦äº‹ä»¶
- ğŸ”” è‡ªå®šä¹‰å‘Šè­¦è§„åˆ™
- ğŸ› äº¤æ˜“è°ƒè¯•å’Œæ¨¡æ‹Ÿ
- ğŸ“ˆ Gas åˆ†æ
- ğŸ” åˆçº¦éªŒè¯

## å¿«é€Ÿå¼€å§‹ï¼ˆ5åˆ†é’Ÿè®¾ç½®ï¼‰

### æ­¥éª¤ 1: æ³¨å†Œè´¦å·

1. è®¿é—® https://tenderly.co
2. ç‚¹å‡» "Sign Up"
3. ä½¿ç”¨ GitHub/Google è´¦å·æ³¨å†Œï¼ˆæ¨èï¼‰
4. åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼ˆProjectï¼‰

### æ­¥éª¤ 2: æ·»åŠ åˆçº¦

#### æ–¹æ³• A: é€šè¿‡ UI æ·»åŠ ï¼ˆæœ€ç®€å•ï¼‰

1. åœ¨ Tenderly Dashboard ç‚¹å‡» "Add Contract"
2. é€‰æ‹©ç½‘ç»œï¼ˆSepoliaï¼‰
3. è¾“å…¥åˆçº¦åœ°å€
4. ç‚¹å‡» "Add Contract"

åˆçº¦åˆ—è¡¨ï¼š
```
DIAPToken: 0xä½ çš„Tokenåœ°å€
DIAPAgentNetwork: 0xä½ çš„Networkåœ°å€
DIAPPaymentCore: 0xä½ çš„PaymentCoreåœ°å€
DIAPPaymentChannel: 0xä½ çš„PaymentChannelåœ°å€
DIAPGovernance: 0xä½ çš„Governanceåœ°å€
```

#### æ–¹æ³• B: é€šè¿‡ CLI æ·»åŠ ï¼ˆè‡ªåŠ¨åŒ–ï¼‰

```bash
# 1. å®‰è£… Tenderly CLI
npm install -g @tenderly/cli

# 2. ç™»å½•
tenderly login

# 3. åˆå§‹åŒ–é¡¹ç›®
tenderly init

# 4. æ·»åŠ åˆçº¦
tenderly push
```

åˆ›å»º `tenderly.yaml`:

```yaml
account_id: "ä½ çš„è´¦å·ID"
project_slug: "diap-protocol"
contracts:
  - address: "0xä½ çš„Tokenåœ°å€"
    network_id: "11155111"  # Sepolia
    name: "DIAPToken"
  - address: "0xä½ çš„Networkåœ°å€"
    network_id: "11155111"
    name: "DIAPAgentNetwork"
  - address: "0xä½ çš„PaymentCoreåœ°å€"
    network_id: "11155111"
    name: "DIAPPaymentCore"
```

### æ­¥éª¤ 3: è®¾ç½®å‘Šè­¦è§„åˆ™

#### å‘Šè­¦ 1: å¤§é¢è½¬è´¦ç›‘æ§

```javascript
// åœ¨ Tenderly UI ä¸­åˆ›å»º Alert
åç§°: "å¤§é¢è½¬è´¦å‘Šè­¦"
åˆçº¦: DIAPToken
äº‹ä»¶: Transfer
æ¡ä»¶: 
  - value > 100000 * 10^18  // è¶…è¿‡ 10ä¸‡ DIAP

é€šçŸ¥æ–¹å¼:
  - Email
  - Telegram
  - Webhook
```

#### å‘Šè­¦ 2: åˆçº¦æš‚åœç›‘æ§

```javascript
åç§°: "åˆçº¦æš‚åœå‘Šè­¦"
åˆçº¦: DIAPToken
äº‹ä»¶: Paused
æ¡ä»¶: æ— ï¼ˆæ‰€æœ‰æš‚åœéƒ½å‘Šè­¦ï¼‰

é€šçŸ¥æ–¹å¼:
  - Emailï¼ˆç«‹å³ï¼‰
  - Telegramï¼ˆç«‹å³ï¼‰
  - SMSï¼ˆå¦‚æœæœ‰ï¼‰
```

#### å‘Šè­¦ 3: æ‰€æœ‰æƒè½¬ç§»ç›‘æ§

```javascript
åç§°: "æ‰€æœ‰æƒè½¬ç§»å‘Šè­¦"
åˆçº¦: DIAPToken
äº‹ä»¶: OwnershipTransferred
æ¡ä»¶: æ— 

é€šçŸ¥æ–¹å¼:
  - Emailï¼ˆç«‹å³ï¼‰
  - Telegramï¼ˆç«‹å³ï¼‰
```

#### å‘Šè­¦ 4: è´¨æŠ¼å¼‚å¸¸ç›‘æ§

```javascript
åç§°: "è´¨æŠ¼å¼‚å¸¸å‘Šè­¦"
åˆçº¦: DIAPToken
äº‹ä»¶: Staked, Unstaked
æ¡ä»¶:
  - amount > 1000000 * 10^18  // è¶…è¿‡ 100ä¸‡ DIAP

é€šçŸ¥æ–¹å¼:
  - Email
  - Telegram
```

#### å‘Šè­¦ 5: å¤±è´¥äº¤æ˜“ç›‘æ§

```javascript
åç§°: "å¤±è´¥äº¤æ˜“å‘Šè­¦"
åˆçº¦: æ‰€æœ‰åˆçº¦
æ¡ä»¶:
  - status = "failed"
  - è¿ç»­å¤±è´¥ > 3 æ¬¡

é€šçŸ¥æ–¹å¼:
  - Email
  - Telegram
```

### æ­¥éª¤ 4: é…ç½® Telegram é€šçŸ¥

1. **åœ¨ Tenderly ä¸­æ·»åŠ  Telegram**
   - è¿›å…¥ Settings â†’ Notifications
   - ç‚¹å‡» "Add Telegram"
   - æ‰«æäºŒç»´ç æˆ–ç‚¹å‡»é“¾æ¥
   - æˆæƒ Tenderly Bot

2. **æµ‹è¯•é€šçŸ¥**
   - åˆ›å»ºä¸€ä¸ªæµ‹è¯•å‘Šè­¦
   - è§¦å‘æ¡ä»¶
   - æ£€æŸ¥æ˜¯å¦æ”¶åˆ° Telegram æ¶ˆæ¯

### æ­¥éª¤ 5: é…ç½® Webhookï¼ˆé«˜çº§ï¼‰

å¦‚æœä½ æƒ³è‡ªå®šä¹‰å¤„ç†å‘Šè­¦ï¼š

```javascript
// åˆ›å»º Webhook ç«¯ç‚¹
// scripts/monitoring/webhook_server.js

const express = require('express');
const app = express();

app.use(express.json());

app.post('/tenderly-webhook', async (req, res) => {
    const alert = req.body;
    
    console.log("æ”¶åˆ° Tenderly å‘Šè­¦:", alert);
    
    // å¤„ç†å‘Šè­¦
    if (alert.type === 'TRANSACTION') {
        // äº¤æ˜“å‘Šè­¦
        await handleTransactionAlert(alert);
    } else if (alert.type === 'EVENT') {
        // äº‹ä»¶å‘Šè­¦
        await handleEventAlert(alert);
    }
    
    res.status(200).send('OK');
});

async function handleTransactionAlert(alert) {
    // å‘é€åˆ° Telegram
    // è®°å½•æ—¥å¿—
    // è§¦å‘å…¶ä»–æ“ä½œ
}

app.listen(3000, () => {
    console.log('Webhook æœåŠ¡å™¨è¿è¡Œåœ¨ 3000 ç«¯å£');
});
```

éƒ¨ç½² Webhookï¼š
```bash
# ä½¿ç”¨ ngrok æš´éœ²æœ¬åœ°ç«¯å£ï¼ˆæµ‹è¯•ï¼‰
ngrok http 3000

# æˆ–éƒ¨ç½²åˆ°äº‘æœåŠ¡ï¼ˆç”Ÿäº§ï¼‰
# - Vercel
# - Railway
# - Heroku
```

åœ¨ Tenderly ä¸­é…ç½® Webhook URLï¼š
```
https://your-domain.com/tenderly-webhook
```

## ä½¿ç”¨ Tenderly è°ƒè¯•

### 1. æŸ¥çœ‹äº¤æ˜“è¯¦æƒ…

```
1. åœ¨ Tenderly Dashboard æ‰¾åˆ°äº¤æ˜“
2. ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
3. å¯ä»¥çœ‹åˆ°ï¼š
   - Gas ä½¿ç”¨æƒ…å†µ
   - çŠ¶æ€å˜åŒ–
   - äº‹ä»¶æ—¥å¿—
   - è°ƒç”¨æ ˆ
   - é”™è¯¯ä¿¡æ¯
```

### 2. æ¨¡æ‹Ÿäº¤æ˜“

```javascript
// åœ¨ Tenderly UI ä¸­
1. ç‚¹å‡» "Simulate Transaction"
2. è¾“å…¥äº¤æ˜“å‚æ•°
3. ç‚¹å‡» "Simulate"
4. æŸ¥çœ‹ç»“æœï¼ˆä¸ä¼šçœŸæ­£æ‰§è¡Œï¼‰

ç”¨é€”ï¼š
- æµ‹è¯•äº¤æ˜“æ˜¯å¦ä¼šæˆåŠŸ
- ä¼°ç®— Gas æ¶ˆè€—
- è°ƒè¯•é”™è¯¯
```

### 3. Fork ä¸»ç½‘

```javascript
// åˆ›å»ºä¸»ç½‘ Fork ç”¨äºæµ‹è¯•
1. åœ¨ Tenderly ä¸­ç‚¹å‡» "Fork"
2. é€‰æ‹©ç½‘ç»œå’ŒåŒºå—é«˜åº¦
3. è·å¾—ä¸€ä¸ªæµ‹è¯• RPC URL
4. åœ¨è¿™ä¸ª Fork ä¸Šæµ‹è¯•

// åœ¨ Hardhat ä¸­ä½¿ç”¨
module.exports = {
  networks: {
    tenderly: {
      url: "https://rpc.tenderly.co/fork/ä½ çš„fork-id",
      chainId: 1
    }
  }
};
```

## ç›‘æ§ä»ªè¡¨æ¿

### åˆ›å»ºè‡ªå®šä¹‰ä»ªè¡¨æ¿

```javascript
// åœ¨ Tenderly UI ä¸­
1. è¿›å…¥ "Dashboards"
2. ç‚¹å‡» "Create Dashboard"
3. æ·»åŠ å°éƒ¨ä»¶ï¼š
   - äº¤æ˜“é‡å›¾è¡¨
   - Gas ä½¿ç”¨è¶‹åŠ¿
   - äº‹ä»¶ç»Ÿè®¡
   - é”™è¯¯ç‡
   - æ´»è·ƒç”¨æˆ·æ•°
```

### æ¨èçš„ä»ªè¡¨æ¿å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DIAP Protocol ç›‘æ§ä»ªè¡¨æ¿            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ“Š 24å°æ—¶äº¤æ˜“é‡                     â”‚
â”‚  [å›¾è¡¨]                              â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ’° åˆçº¦ä½™é¢                         â”‚
â”‚  Token: 8,000,000 DIAP              â”‚
â”‚  Network: 500,000 DIAP              â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ‘¥ æ´»è·ƒç”¨æˆ·                         â”‚
â”‚  ä»Šå¤©: 150                           â”‚
â”‚  æœ¬å‘¨: 1,200                         â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  âš ï¸  æœ€è¿‘å‘Šè­¦                        â”‚
â”‚  [åˆ—è¡¨]                              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é›†æˆåˆ° CI/CD

### GitHub Actions é›†æˆ

```yaml
# .github/workflows/tenderly-verify.yml
name: Tenderly Verification

on:
  push:
    branches: [main]

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Install Tenderly CLI
        run: npm install -g @tenderly/cli
      
      - name: Verify Contracts
        run: |
          tenderly login --authentication-method access-key --access-key ${{ secrets.TENDERLY_ACCESS_KEY }}
          tenderly push
        env:
          TENDERLY_ACCESS_KEY: ${{ secrets.TENDERLY_ACCESS_KEY }}
```

## æˆæœ¬

### å…è´¹ç‰ˆï¼ˆè¶³å¤Ÿä¸ªäººä½¿ç”¨ï¼‰
- âœ… 3 ä¸ªé¡¹ç›®
- âœ… æ— é™åˆçº¦
- âœ… åŸºç¡€å‘Šè­¦
- âœ… äº¤æ˜“è°ƒè¯•
- âœ… 7 å¤©æ•°æ®ä¿ç•™

### ä»˜è´¹ç‰ˆï¼ˆ$50/æœˆèµ·ï¼‰
- âœ… æ— é™é¡¹ç›®
- âœ… é«˜çº§å‘Šè­¦
- âœ… æ›´é•¿æ•°æ®ä¿ç•™
- âœ… å›¢é˜Ÿåä½œ
- âœ… ä¼˜å…ˆæ”¯æŒ

**å»ºè®®**: å…ˆç”¨å…è´¹ç‰ˆï¼Œç­‰é¡¹ç›®æˆç†Ÿåå†è€ƒè™‘å‡çº§

## æœ€ä½³å®è·µ

### âœ… åº”è¯¥åšçš„

1. **è®¾ç½®å…³é”®å‘Šè­¦**
   - å¤§é¢è½¬è´¦
   - åˆçº¦æš‚åœ
   - æ‰€æœ‰æƒå˜æ›´
   - å¤±è´¥äº¤æ˜“

2. **å®šæœŸæ£€æŸ¥ä»ªè¡¨æ¿**
   - æ¯å¤©è‡³å°‘çœ‹ä¸€æ¬¡
   - å…³æ³¨å¼‚å¸¸æ¨¡å¼
   - åˆ†æ Gas ä½¿ç”¨

3. **ä½¿ç”¨æ¨¡æ‹ŸåŠŸèƒ½**
   - éƒ¨ç½²å‰æ¨¡æ‹Ÿ
   - å‡çº§å‰æµ‹è¯•
   - å‚æ•°è°ƒæ•´éªŒè¯

4. **ä¿æŒåˆçº¦æ›´æ–°**
   - ä»£ç æ›´æ–°åé‡æ–°éªŒè¯
   - ä¿æŒ ABI åŒæ­¥

### âŒ ä¸åº”è¯¥åšçš„

1. **ä¸è¦**å¿½ç•¥å‘Šè­¦
2. **ä¸è¦**è®¾ç½®å¤ªå¤šæ— ç”¨å‘Šè­¦
3. **ä¸è¦**åˆ†äº« API å¯†é’¥
4. **ä¸è¦**åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ Fork

## æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šåˆçº¦æœªæ˜¾ç¤º

```
è§£å†³æ–¹æ¡ˆï¼š
1. ç¡®è®¤åˆçº¦åœ°å€æ­£ç¡®
2. ç¡®è®¤ç½‘ç»œé€‰æ‹©æ­£ç¡®
3. ç­‰å¾…å‡ åˆ†é’Ÿï¼ˆç´¢å¼•éœ€è¦æ—¶é—´ï¼‰
4. å°è¯•æ‰‹åŠ¨æ·»åŠ 
```

### é—®é¢˜ï¼šå‘Šè­¦ä¸å·¥ä½œ

```
è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥å‘Šè­¦æ¡ä»¶æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤é€šçŸ¥æ¸ é“å·²é…ç½®
3. æµ‹è¯•å‘Šè­¦ï¼ˆæ‰‹åŠ¨è§¦å‘ï¼‰
4. æ£€æŸ¥é‚®ä»¶åƒåœ¾ç®±
```

### é—®é¢˜ï¼šæ— æ³•è¿æ¥ Telegram

```
è§£å†³æ–¹æ¡ˆï¼š
1. é‡æ–°æˆæƒ Tenderly Bot
2. æ£€æŸ¥ Telegram è®¾ç½®
3. å°è¯•ä½¿ç”¨å…¶ä»–é€šçŸ¥æ–¹å¼
4. è”ç³» Tenderly æ”¯æŒ
```

## æ›¿ä»£æ–¹æ¡ˆ

å¦‚æœ Tenderly ä¸é€‚åˆä½ ï¼š

### OpenZeppelin Defender
- ç±»ä¼¼åŠŸèƒ½
- æ›´æ³¨é‡å®‰å…¨
- æœ‰å…è´¹ç‰ˆ

### Blocknative
- å®æ—¶äº¤æ˜“ç›‘æ§
- Mempool ç›‘æ§
- æœ‰å…è´¹ç‰ˆ

### The Graph
- è‡ªå®šä¹‰æ•°æ®ç´¢å¼•
- å®Œå…¨å…è´¹
- éœ€è¦ç¼–å†™ Subgraph

## èµ„æºé“¾æ¥

- Tenderly å®˜ç½‘: https://tenderly.co
- æ–‡æ¡£: https://docs.tenderly.co
- CLI æ–‡æ¡£: https://github.com/Tenderly/tenderly-cli
- ç¤¾åŒº: https://discord.gg/tenderly

---

**ä¸‹ä¸€æ­¥**: è®¾ç½®å®Œ Tenderly åï¼Œé…ç½® Telegram Bot è¿›è¡ŒåŒé‡å‘Šè­¦ä¿éšœã€‚

ğŸ¯ ç›®æ ‡ï¼š5åˆ†é’Ÿå†…å‘ç°ä»»ä½•å¼‚å¸¸ï¼
